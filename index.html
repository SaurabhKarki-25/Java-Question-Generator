<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java & DSA Question Bank Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #333;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            color: white;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .card-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #2c5364;
        }
        
        .card-header h2 {
            color: #2c5364;
            font-size: 1.8rem;
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .control-group {
            flex: 1;
            min-width: 250px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c5364;
        }
        
        select, input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        select:focus, input:focus {
            border-color: #2c5364;
            outline: none;
        }
        
        .btn {
            background: #2c5364;
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background 0.3s, transform 0.2s;
            display: inline-block;
        }
        
        .btn:hover {
            background: #203a43;
            transform: translateY(-2px);
        }
        
        .btn-generate {
            background: #ff6b6b;
        }
        
        .btn-generate:hover {
            background: #ee5a5a;
        }
        
        .actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .preview {
            margin-top: 30px;
        }
        
        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .question-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
        }
        
        .question-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: flex-start;
        }
        
        .question-item:last-child {
            border-bottom: none;
        }
        
        .question-number {
            background: #2c5364;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .question-text {
            flex: 1;
        }
        
        .difficulty {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .difficulty-basic {
            background: #e6f7ff;
            color: #1890ff;
        }
        
        .difficulty-intermediate {
            background: #fff7e6;
            color: #fa8c16;
        }
        
        .difficulty-advanced {
            background: #fff1f0;
            color: #f5222d;
        }
        
        footer {
            text-align: center;
            color: white;
            padding: 20px 0;
            margin-top: 30px;
            opacity: 0.8;
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Java & DSA Question Bank Generator</h1>
            <p class="subtitle">Create a PDF with 250 questions covering Java programming and Data Structures & Algorithms from basic to advanced levels</p>
        </header>
        
        <div class="card">
            <div class="card-header">
                <h2>Configuration</h2>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label for="topic">Primary Topic Focus</label>
                    <select id="topic">
                        <option value="mixed">Mixed (Java & DSA)</option>
                        <option value="java">Java Programming</option>
                        <option value="dsa">Data Structures</option>
                        <option value="algorithms">Algorithms</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="difficulty">Difficulty Distribution</label>
                    <select id="difficulty">
                        <option value="balanced">Balanced (Basic/Intermediate/Advanced)</option>
                        <option value="beginner">Beginner Focus (More Basic)</option>
                        <option value="intermediate">Intermediate Focus</option>
                        <option value="advanced">Advanced Focus</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="count">Number of Questions</label>
                    <input type="number" id="count" min="10" max="500" value="250">
                </div>
            </div>
            
            <div class="actions">
                <button class="btn btn-generate" onclick="generateQuestions()">Generate Questions</button>
                <button class="btn" onclick="generatePDF()">Download as PDF</button>
            </div>
        </div>
        
        <div class="card preview">
            <div class="preview-header">
                <h2>Question Preview</h2>
                <span id="questionCount">0/250 questions generated</span>
            </div>
            
            <div class="question-list" id="questionList">
                <p class="text-center">Questions will appear here after generation</p>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Java & DSA Question Bank Generator | Created for educational purposes</p>
    </footer>

    <script>
        // Question database
        const questions = {
            java: {
                basic: [
                    "What is the difference between JDK, JRE, and JVM?",
                    "Explain the main features of Java programming language.",
                    "What is the difference between == and .equals() method in Java?",
                    "What are the different data types in Java?",
                    "Explain the concept of Object-Oriented Programming.",
                    "What is the difference between an abstract class and an interface?",
                    "What are access modifiers in Java? Explain each one.",
                    "What is the 'final' keyword used for in Java?",
                    "What are wrapper classes in Java?",
                    "Explain the concept of method overloading and overriding.",
                    "What are constructors in Java?",
                    "What is the 'super' keyword used for?",
                    "What is the 'this' keyword used for?",
                    "What are static variables and methods?",
                    "What is the difference between String, StringBuilder, and StringBuffer?",
                    "What are enumerations (enums) in Java?",
                    "What are annotations in Java? Give examples.",
                    "What are the main principles of OOP?",
                    "What is exception handling in Java?",
                    "What is the difference between checked and unchecked exceptions?",
                    "What is the try-with-resources statement?",
                    "What is the difference between throw and throws?",
                    "What is garbage collection in Java?",
                    "What are the different ways to create objects in Java?",
                    "What are immutable objects? How to create them?",
                    "What is the singleton pattern? How to implement it?",
                    "What is the difference between ArrayList and LinkedList?",
                    "What is the difference between HashSet and TreeSet?",
                    "What is the difference between HashMap and Hashtable?",
                    "What is the Collections Framework in Java?"
                ],
                intermediate: [
                    "What is the Java Memory Model?",
                    "Explain the volatile keyword in Java.",
                    "What is the transient keyword used for?",
                    "What is serialization and deserialization?",
                    "What is the difference between Serializable and Externalizable?",
                    "What is reflection in Java? What are its uses?",
                    "What are Java generics? What problems do they solve?",
                    "What is type erasure in Java generics?",
                    "What are wildcards in generics? Explain upper and lower bounded wildcards.",
                    "What is the diamond operator in Java?",
                    "What are functional interfaces in Java?",
                    "What are lambda expressions? How are they related to functional interfaces?",
                    "What is the Stream API? How does it work?",
                    "What are method references? Give examples.",
                    "What is the Optional class? How is it used?",
                    "What is the difference between map() and flatMap() in streams?",
                    "What are collectors in the Stream API?",
                    "What is the Java Date and Time API?",
                    "What are CompletableFuture and asynchronous programming in Java?",
                    "What is the Executor framework in Java?",
                    "What are the different types of thread pools?",
                    "What is the Fork/Join framework?",
                    "What are atomic classes in Java?",
                    "What are locks in Java concurrency?",
                    "What is the difference between synchronized and ReentrantLock?",
                    "What are semaphores and countdown latches?",
                    "What is the difference between CyclicBarrier and CountDownLatch?",
                    "What is the Java Module System (Project Jigsaw)?",
                    "What are services in the module system?",
                    "What are the new features in Java 8, 11, and 17?"
                ],
                advanced: [
                    "How does the JVM handle method invocation? (invokedynamic)",
                    "What is bytecode manipulation? What libraries can you use?",
                    "What is the Java Instrumentation API?",
                    "How does class loading work in Java?",
                    "What are custom class loaders? When would you use them?",
                    "What is the Java Memory Model and happens-before relationship?",
                    "How does garbage collection work in Java? Explain different GC algorithms.",
                    "What are garbage collection tuning parameters?",
                    "How to analyze and troubleshoot memory leaks?",
                    "What are Java Flight Recorder and Mission Control?",
                    "What is the Java Native Interface (JNI)? When would you use it?",
                    "What are Java agents and how do they work?",
                    "What is reactive programming in Java? (Reactive Streams, Project Reactor)",
                    "What are value types in Java (Project Valhalla)?",
                    "What are fibers/ virtual threads (Project Loom)?",
                    "How does just-in-time (JIT) compilation work in the JVM?",
                    "What are escape analysis and stack allocation?",
                    "What are the different references in Java (strong, soft, weak, phantom)?",
                    "How to implement custom annotations and process them?",
                    "What is the Java Security Manager and how does it work?",
                    "How to implement custom security policies?",
                    "What is the Process API in Java?",
                    "What are stack walks and how to use them?",
                    "What are varhandles in Java?",
                    "How to use the Foreign Function Interface (FFI) in Java?",
                    "What are pattern matching and sealed classes?",
                    "How does the module system improve security and maintainability?",
                    "What are service provider interfaces (SPI) in Java?",
                    "How to implement custom serialization?",
                    "What are the best practices for writing high-performance Java code?"
                ]
            },
            dsa: {
                basic: [
                    "What is a data structure? Why are they important?",
                    "What is the difference between linear and non-linear data structures?",
                    "What is an array? What are its advantages and disadvantages?",
                    "What is a linked list? How is it different from an array?",
                    "What is a stack? What are its applications?",
                    "What is a queue? What are its applications?",
                    "What is a circular queue? How is it implemented?",
                    "What is a priority queue? How is it implemented?",
                    "What is a hash table? How does it work?",
                    "What is hashing? What are hash functions?",
                    "What is collision resolution in hashing? Explain different methods.",
                    "What is a binary tree? What are its properties?",
                    "What are tree traversals? Explain inorder, preorder, and postorder.",
                    "What is a binary search tree? What are its properties?",
                    "What is the time complexity of search, insertion, and deletion in BST?",
                    "What is an AVL tree? How does it maintain balance?",
                    "What is a graph? How is it represented?",
                    "What are the differences between BFS and DFS?",
                    "What is recursion? How does it work?",
                    "What are the advantages and disadvantages of recursion?",
                    "What is dynamic programming? How is it different from recursion?",
                    "What is the divide and conquer approach?",
                    "What is the greedy algorithm approach?",
                    "What is backtracking? Give examples.",
                    "What is asymptotic analysis? Why is it important?",
                    "What is Big O notation? How is it used?",
                    "What are the time complexities of common algorithms?",
                    "What is the difference between best case, worst case, and average case?",
                    "What is space complexity? How is it calculated?",
                    "What are the differences between comparison-based and non-comparison-based sorting algorithms?"
                ],
                intermediate: [
                    "How to implement a linked list with insert, delete, and search operations?",
                    "How to reverse a linked list iteratively and recursively?",
                    "How to detect a cycle in a linked list?",
                    "How to find the middle element of a linked list?",
                    "How to implement a stack using arrays and linked lists?",
                    "How to implement a queue using arrays and linked lists?",
                    "How to implement a binary search tree with insert, delete, and search?",
                    "How to check if a binary tree is a BST?",
                    "How to find the lowest common ancestor in a BST?",
                    "How to implement a hash table with separate chaining?",
                    "How to implement a hash table with open addressing?",
                    "What are the different collision resolution techniques?",
                    "How to implement heap data structure?",
                    "What are the applications of heap?",
                    "How to implement graph using adjacency list and adjacency matrix?",
                    "How to implement BFS and DFS for graphs?",
                    "How to detect a cycle in a directed graph?",
                    "How to detect a cycle in an undirected graph?",
                    "How to find the shortest path in an unweighted graph?",
                    "How to implement Dijkstra's algorithm?",
                    "How to implement a minimum spanning tree algorithm?",
                    "How to implement topological sorting?",
                    "How to solve the knapsack problem using dynamic programming?",
                    "How to solve the longest common subsequence problem?",
                    "How to solve the matrix chain multiplication problem?",
                    "How to implement merge sort iteratively and recursively?",
                    "How to implement quick sort with different partition schemes?",
                    "What is the counting sort algorithm? How does it work?",
                    "What is the radix sort algorithm? How does it work?",
                    "What is the bucket sort algorithm? How does it work?"
                ],
                advanced: [
                    "How to implement a self-balancing BST (AVL tree or Red-Black tree)?",
                    "What are the rotation operations in AVL trees?",
                    "What are the properties of Red-Black trees?",
                    "How to implement a B-tree? What are its applications?",
                    "How to implement a segment tree? What are its applications?",
                    "How to implement a Fenwick tree (Binary Indexed Tree)?",
                    "How to implement a suffix tree? What are its applications?",
                    "How to implement a trie data structure?",
                    "What are disjoint-set data structures? How are they implemented?",
                    "How to implement a bloom filter? What are its applications?",
                    "How to implement skip lists? What are their advantages?",
                    "What are persistent data structures? How are they implemented?",
                    "How to solve the travelling salesman problem using dynamic programming?",
                    "How to solve the coin change problem using dynamic programming?",
                    "How to solve the edit distance problem?",
                    "What are flow networks? How to implement Ford-Fulkerson algorithm?",
                    "What are matching algorithms in graphs?",
                    "What are strongly connected components? How to find them?",
                    "What are articulation points and bridges in graphs? How to find them?",
                    "What is the A* search algorithm? How does it work?",
                    "What are string matching algorithms (KMP, Rabin-Karp, Boyer-Moore)?",
                    "How to solve the N-Queens problem using backtracking?",
                    "How to solve the Sudoku solver problem using backtracking?",
                    "What are approximation algorithms? Give examples.",
                    "What are randomized algorithms? Give examples.",
                    "What are external sorting algorithms? How do they work?",
                    "How to implement a cache-efficient B-tree?",
                    "What are van Emde Boas trees? How do they work?",
                    "What are Fibonacci heaps? How are they implemented?",
                    "What are the applications of segment trees with lazy propagation?"
                ]
            }
        };

        let generatedQuestions = [];

        function generateQuestions() {
            const topic = document.getElementById('topic').value;
            const difficulty = document.getElementById('difficulty').value;
            const count = parseInt(document.getElementById('count').value);
            
            generatedQuestions = [];
            
            // Determine distribution based on difficulty setting
            let basicRatio, intermediateRatio, advancedRatio;
            
            switch(difficulty) {
                case 'beginner':
                    basicRatio = 0.6;
                    intermediateRatio = 0.3;
                    advancedRatio = 0.1;
                    break;
                case 'intermediate':
                    basicRatio = 0.3;
                    intermediateRatio = 0.5;
                    advancedRatio = 0.2;
                    break;
                case 'advanced':
                    basicRatio = 0.1;
                    intermediateRatio = 0.3;
                    advancedRatio = 0.6;
                    break;
                default: // balanced
                    basicRatio = 0.4;
                    intermediateRatio = 0.4;
                    advancedRatio = 0.2;
            }
            
            // Determine topic distribution
            let javaRatio, dsaRatio;
            
            switch(topic) {
                case 'java':
                    javaRatio = 0.7;
                    dsaRatio = 0.3;
                    break;
                case 'dsa':
                    javaRatio = 0.3;
                    dsaRatio = 0.7;
                    break;
                case 'algorithms':
                    javaRatio = 0.2;
                    dsaRatio = 0.8;
                    break;
                default: // mixed
                    javaRatio = 0.5;
                    dsaRatio = 0.5;
            }
            
            // Calculate number of questions from each category
            const javaBasicCount = Math.floor(count * javaRatio * basicRatio);
            const javaIntermediateCount = Math.floor(count * javaRatio * intermediateRatio);
            const javaAdvancedCount = Math.floor(count * javaRatio * advancedRatio);
            
            const dsaBasicCount = Math.floor(count * dsaRatio * basicRatio);
            const dsaIntermediateCount = Math.floor(count * dsaRatio * intermediateRatio);
            const dsaAdvancedCount = Math.floor(count * dsaRatio * advancedRatio);
            
            // Add Java questions
            addRandomQuestions(questions.java.basic, javaBasicCount, "Java Basic");
            addRandomQuestions(questions.java.intermediate, javaIntermediateCount, "Java Intermediate");
            addRandomQuestions(questions.java.advanced, javaAdvancedCount, "Java Advanced");
            
            // Add DSA questions
            addRandomQuestions(questions.dsa.basic, dsaBasicCount, "DSA Basic");
            addRandomQuestions(questions.dsa.intermediate, dsaIntermediateCount, "DSA Intermediate");
            addRandomQuestions(questions.dsa.advanced, dsaAdvancedCount, "DSA Advanced");
            
            // Shuffle questions
            shuffleArray(generatedQuestions);
            
            // Update UI
            document.getElementById('questionCount').textContent = `${generatedQuestions.length}/${count} questions generated`;
            renderQuestions();
        }
        
        function addRandomQuestions(questionArray, count, category) {
            const shuffled = [...questionArray];
            shuffleArray(shuffled);
            
            for (let i = 0; i < Math.min(count, shuffled.length); i++) {
                generatedQuestions.push({
                    text: shuffled[i],
                    category: category
                });
            }
        }
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        function renderQuestions() {
            const questionList = document.getElementById('questionList');
            questionList.innerHTML = '';
            
            if (generatedQuestions.length === 0) {
                questionList.innerHTML = '<p class="text-center">No questions generated yet. Click "Generate Questions" to start.</p>';
                return;
            }
            
            generatedQuestions.forEach((q, index) => {
                const difficulty = q.category.split(' ')[1].toLowerCase();
                
                const questionItem = document.createElement('div');
                questionItem.className = 'question-item';
                questionItem.innerHTML = `
                    <div class="question-number">${index + 1}</div>
                    <div class="question-text">${q.text}</div>
                    <span class="difficulty difficulty-${difficulty}">${q.category}</span>
                `;
                questionList.appendChild(questionItem);
            });
        }
        
        function generatePDF() {
            if (generatedQuestions.length === 0) {
                alert('Please generate questions first before creating a PDF.');
                return;
            }
            
            // Create PDF document
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Add title
            doc.setFontSize(20);
            doc.setTextColor(40, 62, 80);
            doc.text('Java & DSA Question Bank', 105, 20, { align: 'center' });
            
            // Add subtitle
            doc.setFontSize(12);
            doc.setTextColor(100, 100, 100);
            doc.text(`Generated on ${new Date().toLocaleDateString()} - ${generatedQuestions.length} questions`, 105, 28, { align: 'center' });
            
            // Add questions
            let y = 40;
            const pageHeight = doc.internal.pageSize.height;
            const margin = 20;
            
            generatedQuestions.forEach((q, index) => {
                // Check if we need to add a new page
                if (y > pageHeight - 20) {
                    doc.addPage();
                    y = 20;
                }
                
                // Question number and text
                doc.setFontSize(12);
                doc.setTextColor(0, 0, 0);
                doc.setFont(undefined, 'bold');
                doc.text(`${index + 1}.`, margin, y);
                
                const text = doc.splitTextToSize(q.text, 160);
                doc.setFont(undefined, 'normal');
                doc.text(text, margin + 8, y);
                
                // Category
                doc.setFontSize(10);
                doc.setTextColor(100, 100, 100);
                doc.text(`Category: ${q.category}`, margin, y + (text.length * 7));
                
                // Update y position for next question
                y += (text.length * 7) + 15;
            });
            
            // Save the PDF
            doc.save('Java-DSA-Question-Bank.pdf');
        }

        // Initialize with some questions
        window.onload = function() {
            generateQuestions();
        };
    </script>
</body>
</html>